{"version":3,"file":"bundle.src_components_GameContainer_PlayerContainer_Player_jsx.js","mappings":"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","sources":["webpack://games-ui/./src/components/GameContainer/PlayerContainer/Player.jsx","webpack://games-ui/./src/components/Model/Game.js","webpack://games-ui/./src/components/Utils/Game.js","webpack://games-ui/./assets/styles/player.scss","webpack://games-ui/./assets/styles/player.scss?9324"],"sourcesContent":["import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport GameModel from 'Model/Game';\nimport GameUtil from 'Utils/Game';\nimport 'styles/player.scss';\n\nexport default class Player extends Component {\n    constructor() {\n        super();\n        this.handleError = GameUtil.handleError.bind(this);\n    }\n\n    nudgePlayer = () => {\n        const { isMe, amIAdmin } = this.props;\n        if (isMe || !amIAdmin) return;\n        const { gameName, gameId, player } = this.props;\n        GameModel.nudgePlayer(gameName, gameId, player._id).catch(this.handleError);\n    }\n\n    getPlayerBorderColor() {\n        return `sg-border-${this.props.isMe ? 'warning' : 'primary'}`;\n    }\n\n    isPlayerCurrentPlayer() {\n        const { currentPlayer, player } = this.props;\n        return currentPlayer && currentPlayer._id == player._id;\n    }\n\n    getPlayerBtn() {\n        return `sg-btn${this.isPlayerCurrentPlayer() ? '-light' : ''}`;\n    }\n\n    getPlayerBtnClassName() {\n        return [\n            'player-card',\n            this.getPlayerBtn(),\n            this.getPlayerBorderColor(),\n        ].join(' ');\n    }\n\n    render() {\n        const { player, isMe, playerChosenCard, CardComponent, hideInfo, isPlayerWon, additionalInfo } = this.props;\n        return <div className=\"player-card-outer\"\n            data-player-id={player._id}>\n            <button className={this.getPlayerBtnClassName()}\n                onClick={this.nudgePlayer}\n                title={player.name}>\n                <div className=\"flex-column\">\n                    <FontAwesomeIcon icon={'user'} className=\"player-icon\" />\n                    <div className=\"player-name\">{player.name}{isMe && ' (You)'}</div>\n                    {additionalInfo && additionalInfo()}\n                    {hideInfo != true && (isPlayerWon ?\n                        <span className=\"px-2 m-auto bg-success rounded text-white\">Won</span>\n                        : <div>\n                            <div className=\"text-center\" style={{ fontSize: '10px' }}><b>({player.cardsCount})</b></div>\n                            {CardComponent && <div className=\"game-player-selected-card-back\">\n                                {playerChosenCard && <CardComponent card={playerChosenCard}\n                                    className={'game-player-selected-card game-player-selected-card-force'} />}\n                            </div>}\n                        </div>)}\n                </div>\n            </button>\n        </div>;\n    }\n}","import Request from './Request';\n\nexport default class {\n    static getGameInfo(gameName, roomId) {\n        return new Promise((resolve, reject) => {\n            Request.get(`game/${roomId}/info`, { gameName }).then(resp => resolve(resp)).catch(err => reject(err));\n        });\n    }\n\n    static startGame(gameName, roomID) {\n        return new Promise((resolve, reject) => {\n            Request.post(`${gameName}/${roomID}/start`).then(resp => resolve(resp)).catch(err => reject(err));\n        });\n    }\n\n    static restartGame(gameName, roomID) {\n        return new Promise((resolve, reject) => {\n            Request.post(`game/${roomID}/restart`, { gameName }).then(resp => resolve(resp)).catch(err => reject(err));\n        });\n    }\n\n    static leaveGame(gameName, roomID) {\n        return new Promise((resolve, reject) => {\n            Request.post(`${gameName}/${roomID}/leave`).then(resp => resolve(resp)).catch(err => reject(err));\n        });\n    }\n\n    static sendMessage(gameName, roomID, text) {\n        return new Promise((resolve, reject) => {\n            Request.post(`game/${roomID}/message`, { gameName, text }).then(resp => resolve(resp)).catch(err => reject(err));\n        });\n    }\n\n    static nudgePlayer(gameName, roomID, playerId) {\n        return new Promise((resolve, reject) => {\n            Request.post(`game/${roomID}/nudge`, { gameName, playerId }).then(resp => resolve(resp)).catch(err => reject(err));\n        });\n    }\n}","import { toast } from 'react-toastify';\n\nfunction playAudio(selector) {\n    $(`#${selector}`).trigger('play')\n}\n\nfunction playNewNotify() {\n    playAudio('new-notify');\n}\nfunction playErrorNotify() {\n    playAudio('error-notify');\n}\nfunction playLightNotify() {\n    playAudio('light-notify');\n}\nfunction playBuzzNotify() {\n    playAudio('buzz-notify');\n}\n\nfunction resetStateGetGameInfo() {\n    this.setState(this.getInitialValues(), this.props.getGameInfo());\n}\n\nfunction resetStateUpdateGameInfo(gameData) {\n    this.setState(this.getInitialValues(), () => this.props.updateGameInfo(gameData));\n}\n\nexport default {\n    audios: [\n        \"new-notify\",\n        \"error-notify\",\n        \"light-notify\",\n        \"buzz-notify\",\n    ],\n    playNewNotify,\n    playErrorNotify,\n    playLightNotify,\n    playBuzzNotify,\n    vibrate: function (time = 200) {\n        window.navigator.vibrate(time);\n    },\n    resetStateGetGameInfo,\n    resetStateUpdateGameInfo,\n    handleError: function (error) {\n        playErrorNotify();\n        const message = error.message || 'Error Occurred';\n        toast.error(message, { toastId: message });\n        this.setState(this.getInitialValues());\n    },\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".player-card-outer {\\n  margin: 10px auto;\\n}\\n.player-card-outer .player-card {\\n  width: 70px;\\n  margin: auto 5px;\\n  border-radius: 5px !important;\\n}\\n.player-card-outer .player-name,\\n.player-card-outer .player-additonal-info {\\n  font-weight: bold;\\n  font-size: 12px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.player-card-outer .player-icon {\\n  margin: 5px auto;\\n  font-size: 15px;\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./player.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["React","Component","FontAwesomeIcon","GameModel","GameUtil","Player","props","isMe","amIAdmin","gameName","gameId","player","nudgePlayer","_id","handleError","bind","currentPlayer","isPlayerCurrentPlayer","getPlayerBtn","getPlayerBorderColor","join","playerChosenCard","CardComponent","hideInfo","isPlayerWon","additionalInfo","getPlayerBtnClassName","name","fontSize","cardsCount","Request","roomId","Promise","resolve","reject","get","then","resp","err","roomID","post","text","playerId","toast","playAudio","selector","$","trigger","playNewNotify","playErrorNotify","playLightNotify","playBuzzNotify","resetStateGetGameInfo","setState","getInitialValues","getGameInfo","resetStateUpdateGameInfo","gameData","updateGameInfo","audios","vibrate","time","window","navigator","error","message","toastId"],"sourceRoot":""}